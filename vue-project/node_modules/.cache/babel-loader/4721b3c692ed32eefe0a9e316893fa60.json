{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"chat-box\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Transaction History\", -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  class: \"chats\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"p\", {\n  id: \"wallet\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  class: \"name\"\n};\nconst _hoisted_7 = {\n  class: \"amount\"\n};\nconst _hoisted_8 = {\n  class: \"amount\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", null, \"Hello, \" + _toDisplayString($props.username), 1\n  /* TEXT */\n  ), _hoisted_3, _createElementVNode(\"ul\", _hoisted_4, [_hoisted_5, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.chats, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"col\",\n      key: item\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"strong\", null, \"From : \" + _toDisplayString(item.username), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", _hoisted_7, \"Amount : Rs \" + _toDisplayString(item.amount), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_8, \"Time : \" + _toDisplayString(item.time), 1\n    /* TEXT */\n    )]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.amount = $event),\n    placeholder: \"Enter amount here\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.amount, void 0, {\n    lazy: true\n  }]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.time = $event),\n    placeholder: \"Enter time of Transaction\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.time, void 0, {\n    lazy: true\n  }]]), _createElementVNode(\"button\", {\n    class: \"button-submit\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.handleSubmit && $options.handleSubmit(...args))\n  }, \"Send\")])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;gCAETC,oBAA4B,IAA5B,EAA4B,IAA5B,EAAI,qBAAJ,EAAuB;AAAA;AAAvB;;;EACID,KAAK,EAAC;;;gCACRC,oBAAmB,GAAnB,EAAmB;EAAhBC,EAAE,EAAC;AAAa,CAAnB,EAAc,IAAd,EAAc;AAAA;AAAd;;;EAEOF,KAAK,EAAC;;;EAGNA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;uBAXnBG,oBAkBM,KAlBN,cAkBM,CAjBJF,oBAgBM,KAhBN,cAgBM,CAfJA,oBAA8B,IAA9B,EAA8B,IAA9B,EAAI,YAAOG,iBAAGC,eAAH,CAAX,EAAsB;EAAA;EAAtB,CAeI,EAdJC,UAcI,EAbJL,oBASK,IATL,cASK,CARHM,UAQG,qBAPHJ,oBAMKK,SANL,EAMK,IANL,EAMKC,YAN0BC,WAM1B,EANkBC,IAAa,IAAT;yBAA3BR,oBAMK,IANL,EAMK;MANDH,KAAK,EAAC,KAML;MANkCY,GAAG,EAAED;IAMvC,CANL,GACEV,oBAEM,KAFN,cAEM,CADJA,oBAA2C,QAA3C,EAA2C,IAA3C,EAAQ,YAAOG,iBAAGO,IAAI,CAACE,QAAR,CAAf,EAA+B;IAAA;IAA/B,CACI,CAFN,GAGAZ,oBAAuD,KAAvD,cAAoB,iBAAYG,iBAAGO,IAAI,CAACG,MAAR,CAAhC,EAA8C;IAAA;IAA9C,GACAb,oBAAgD,KAAhD,cAAoB,YAAOG,iBAAGO,IAAI,CAACI,IAAR,CAA3B,EAAuC;IAAA;IAAvC,EALF;GAMK,CANL;;EAAA,CAOG,EATL,CAaI,kBAHJd,oBAA2E,OAA3E,EAA2E;IAApEe,IAAI,EAAC,MAA+D;+DAA1CN,eAAMO,OAAoC;IAAlCC,WAAW,EAAC;EAAsB,CAA3E;;EAAA,kBAAiCR;UAAd;MAGf,kBAFJT,oBAAgF,OAAhF,EAAgF;IAAzEe,IAAI,EAAC,MAAoE;+DAA/CN,aAAIO,OAA2C;IAAzCC,WAAW,EAAC;EAA6B,CAAhF;;EAAA,kBAAiCR;UAAd;MAEf,EADJT,oBAAiE,QAAjE,EAAiE;IAAzDD,KAAK,EAAC,eAAmD;IAAlCmB,OAAK,yCAAEC,uDAAF;EAA6B,CAAjE,EAAoD,MAApD,CACI,CAhBN,CAiBI,CAlBN","names":["class","_createElementVNode","id","_createElementBlock","_toDisplayString","$props","_hoisted_3","_hoisted_5","_Fragment","_renderList","$data","item","key","username","amount","time","type","$event","placeholder","onClick","$options"],"sourceRoot":"","sources":["D:\\VS code Files\\real time vue pusher\\vue-project\\src\\App.vue"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"chat-box\">\n      <h3>Hello, {{ username }}</h3>\n      <h2>Transaction History</h2>\n      <ul class=\"chats\">\n        <p id=\"wallet\"></p>\n        <li class=\"col\" v-for=\"item in chats\" :key=\"item\">\n          <div class=\"name\">\n            <strong>From : {{ item.username }}</strong>\n          </div>\n          <div class=\"amount\">Amount : Rs {{ item.amount }}</div>\n          <div class=\"amount\">Time : {{ item.time }}</div>\n        </li>\n      </ul>\n      <input type=\"text\" v-model.lazy=\"amount\" placeholder=\"Enter amount here\" />\n      <input type=\"text\" v-model.lazy=\"time\" placeholder=\"Enter time of Transaction\"/>\n      <button class=\"button-submit\" @click=\"handleSubmit\">Send</button>\n    </div>\n  </div>\n</template>\n<script>\nvar wallet= 0;\nimport Pusher from \"pusher-js\";\n// import axios from \"axios\";\nexport default {\n  name: \"HelloWorld\",\n  data() {\n    return {\n      amount: \"\",\n      time: \"\",\n      chats: [],\n    };\n  },\n  props: {\n    username: String,\n  },\n  methods: {\n    subscribe() {\n      const pusher = new Pusher(\"503c295a8c71896beade\", {\n        cluster: \"mt1\",\n        authEndpoint: 'http://localhost:8000/pusher/user-auth',\n      });\n      this.channel = pusher.subscribe('private-my_channel');\n      this.channel.bind('client-my_event', (msg) => {\n        const newObj = JSON.parse(JSON.stringify(msg));\n        this.chats = [...this.chats, newObj];\n      });\n    },\n      handleSubmit(e) {\n      e.preventDefault();\n      const payload = {\n        username: this.username,\n        amount: this.amount,\n        time: this.time,\n      };\n        wallet= wallet+ parseInt(payload.amount);\n        document.getElementById(\"wallet\").innerHTML = payload.username+' wallet = Rs '+ wallet;\n      \n      // axios.post(`http://localhost:5000/message/${this.room}`, payload);\n      var wasTriggered = this.channel.trigger(\"client-my_event\", payload);\n      console.log(wasTriggered);\n      this.chats = [...this.chats, payload];\n      this.amount = \"\";\n      this.time= \"\";\n    },\n  },\n  created() {\n    this.subscribe();\n  },\n};\n</script> "]},"metadata":{},"sourceType":"module"}