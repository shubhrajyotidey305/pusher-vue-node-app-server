{"ast":null,"code":"var wallet = 0;\nimport Pusher from \"pusher-js\"; // import axios from \"axios\";\n\nexport default {\n  name: \"HelloWorld\",\n\n  data() {\n    return {\n      amount: \"\",\n      time: \"\",\n      chats: []\n    };\n  },\n\n  props: {\n    username: String\n  },\n  methods: {\n    subscribe() {\n      const pusher = new Pusher(\"503c295a8c71896beade\", {\n        cluster: \"mt1\",\n        authEndpoint: 'http://localhost:8000/pusher/user-auth'\n      });\n      this.channel = pusher.subscribe('private-my_channel');\n      this.channel.bind('client-my_event', msg => {\n        const newObj = JSON.parse(JSON.stringify(msg));\n        this.chats = [...this.chats, newObj];\n      });\n    },\n\n    handleSubmit(e) {\n      e.preventDefault();\n      const payload = {\n        username: this.username,\n        amount: this.amount,\n        time: this.time\n      };\n      wallet = wallet + parseInt(payload.amount);\n      document.getElementById(\"wallet\").innerHTML = payload.username + ' wallet= Rs ' + wallet; // axios.post(`http://localhost:5000/message/${this.room}`, payload);\n\n      var wasTriggered = this.channel.trigger(\"client-my_event\", payload);\n      console.log(wasTriggered);\n      this.chats = [...this.chats, payload];\n      this.amount = \"\";\n      this.time = \"\";\n    }\n\n  },\n\n  created() {\n    this.subscribe();\n  }\n\n};","map":{"version":3,"mappings":"AAsBA,IAAIA,MAAM,GAAE,CAAZ;AACA,OAAOC,MAAP,MAAmB,WAAnB,C,CACA;;AACA,eAAe;EACbC,IAAI,EAAE,YADO;;EAEbC,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,EADH;MAELC,IAAI,EAAE,EAFD;MAGLC,KAAK,EAAE;IAHF,CAAP;EAKD,CARY;;EASbC,KAAK,EAAE;IACLC,QAAQ,EAAEC;EADL,CATM;EAYbC,OAAO,EAAE;IACPC,SAAS,GAAG;MACV,MAAMC,MAAK,GAAI,IAAIX,MAAJ,CAAW,sBAAX,EAAmC;QAChDY,OAAO,EAAE,KADuC;QAEhDC,YAAY,EAAE;MAFkC,CAAnC,CAAf;MAIA,KAAKC,OAAL,GAAeH,MAAM,CAACD,SAAP,CAAiB,oBAAjB,CAAf;MACA,KAAKI,OAAL,CAAaC,IAAb,CAAkB,iBAAlB,EAAsCC,GAAD,IAAS;QAC5C,MAAMC,MAAK,GAAIC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,GAAf,CAAX,CAAf;QACA,KAAKX,KAAL,GAAa,CAAC,GAAG,KAAKA,KAAT,EAAgBY,MAAhB,CAAb;MACD,CAHD;IAID,CAXM;;IAYLI,YAAY,CAACC,CAAD,EAAI;MAChBA,CAAC,CAACC,cAAF;MACA,MAAMC,OAAM,GAAI;QACdjB,QAAQ,EAAE,KAAKA,QADD;QAEdJ,MAAM,EAAE,KAAKA,MAFC;QAGdC,IAAI,EAAE,KAAKA;MAHG,CAAhB;MAKEL,MAAM,GAAEA,MAAM,GAAE0B,QAAQ,CAACD,OAAO,CAACrB,MAAT,CAAxB;MACAuB,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,GAA8CJ,OAAO,CAACjB,QAAR,GAAiB,cAAjB,GAAiCR,MAA/E,CARc,CAUhB;;MACA,IAAI8B,YAAW,GAAI,KAAKf,OAAL,CAAagB,OAAb,CAAqB,iBAArB,EAAwCN,OAAxC,CAAnB;MACAO,OAAO,CAACC,GAAR,CAAYH,YAAZ;MACA,KAAKxB,KAAL,GAAa,CAAC,GAAG,KAAKA,KAAT,EAAgBmB,OAAhB,CAAb;MACA,KAAKrB,MAAL,GAAc,EAAd;MACA,KAAKC,IAAL,GAAW,EAAX;IACD;;EA5BM,CAZI;;EA0Cb6B,OAAO,GAAG;IACR,KAAKvB,SAAL;EACD;;AA5CY,CAAf","names":["wallet","Pusher","name","data","amount","time","chats","props","username","String","methods","subscribe","pusher","cluster","authEndpoint","channel","bind","msg","newObj","JSON","parse","stringify","handleSubmit","e","preventDefault","payload","parseInt","document","getElementById","innerHTML","wasTriggered","trigger","console","log","created"],"sourceRoot":"","sources":["D:\\VS code Files\\real time vue pusher\\vue-project\\src\\App.vue"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"chat-box\">\n      <h3>Hello, {{ username }}</h3>\n      <h2>Transaction History</h2>\n      <ul class=\"chats\">\n        <p id=\"wallet\"></p>\n        <li class=\"col\" v-for=\"item in chats\" :key=\"item\">\n          <div class=\"name\">\n            <strong>From : {{ item.username }}</strong>\n          </div>\n          <div class=\"amount\">Amount : Rs{{ item.amount }}</div>\n          <div class=\"amount\">Time : {{ item.time }}</div>\n        </li>\n      </ul>\n      <input type=\"text\" v-model.lazy=\"amount\" placeholder=\"Enter amount here\" />\n      <input type=\"text\" v-model.lazy=\"time\" placeholder=\"Enter time of Transaction\"/>\n      <button class=\"button-submit\" @click=\"handleSubmit\">Send</button>\n    </div>\n  </div>\n</template>\n<script>\nvar wallet= 0;\nimport Pusher from \"pusher-js\";\n// import axios from \"axios\";\nexport default {\n  name: \"HelloWorld\",\n  data() {\n    return {\n      amount: \"\",\n      time: \"\",\n      chats: [],\n    };\n  },\n  props: {\n    username: String,\n  },\n  methods: {\n    subscribe() {\n      const pusher = new Pusher(\"503c295a8c71896beade\", {\n        cluster: \"mt1\",\n        authEndpoint: 'http://localhost:8000/pusher/user-auth',\n      });\n      this.channel = pusher.subscribe('private-my_channel');\n      this.channel.bind('client-my_event', (msg) => {\n        const newObj = JSON.parse(JSON.stringify(msg));\n        this.chats = [...this.chats, newObj];\n      });\n    },\n      handleSubmit(e) {\n      e.preventDefault();\n      const payload = {\n        username: this.username,\n        amount: this.amount,\n        time: this.time,\n      };\n        wallet= wallet+ parseInt(payload.amount);\n        document.getElementById(\"wallet\").innerHTML = payload.username+' wallet= Rs '+ wallet;\n      \n      // axios.post(`http://localhost:5000/message/${this.room}`, payload);\n      var wasTriggered = this.channel.trigger(\"client-my_event\", payload);\n      console.log(wasTriggered);\n      this.chats = [...this.chats, payload];\n      this.amount = \"\";\n      this.time= \"\";\n    },\n  },\n  created() {\n    this.subscribe();\n  },\n};\n</script> "]},"metadata":{},"sourceType":"module"}